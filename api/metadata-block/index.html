<!DOCTYPE html><html lang="en"> <head><meta charset="UTF-8"><meta name="viewport" content="width=device-width"><meta name="google-site-verification" content="OKMYmcVuMfm9H_UjfNXPzRb2c0QoBtmZ7v1KwHNXnRQ"><link rel="icon" type="image/png" href="/_astro/vm.C4h557K-.png"><meta name="generator" content="Astro v5.16.6"><title>Metadata Block - Violentmonkey</title><script type="text/partytown" async src="https://www.googletagmanager.com/gtag/js?id=G-2E0X3LSCBM"></script> <script type="text/partytown">
  window.dataLayer = window.dataLayer || [];
  function gtag() {
    dataLayer.push(arguments);
  }
  gtag('js', new Date());

  gtag('config', 'G-2E0X3LSCBM');
</script><link rel="stylesheet" href="/_astro/_path_.BSKfKzbk.css">
<style>aside[data-astro-cid-ssfzsv2f]{border-right-width:1px;border-color:color-mix(in srgb,var(--color-border) var(--un-border-opacity),transparent);background-color:color-mix(in srgb,var(--color-background) var(--un-bg-opacity),transparent);width:var(--aside-width);--un-translate-x:-100%;translate:var(--un-translate-x) var(--un-translate-y);transition-property:transform,translate,scale,rotate;transition-timing-function:var(--un-ease, var(--default-transition-timingFunction));transition-duration:var(--un-duration, var(--default-transition-duration));top:var(--nav-height);left:calc(var(--spacing) * 0);bottom:calc(var(--spacing) * 0);position:fixed;z-index:20}@property --un-border-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@property --un-translate-x{syntax:"*";inherits:false;initial-value:0;syntax:"*";inherits:false;initial-value:0;}@property --un-translate-y{syntax:"*";inherits:false;initial-value:0;syntax:"*";inherits:false;initial-value:0;}@property --un-translate-z{syntax:"*";inherits:false;initial-value:0;syntax:"*";inherits:false;initial-value:0;}@media(min-width:64rem){aside[data-astro-cid-ssfzsv2f]{--un-border-style:none;border-style:none;grid-row-start:1;grid-row-end:3;max-height:calc(100vh - var(--nav-height));--un-translate-x:calc(var(--spacing) * 0);translate:var(--un-translate-x) var(--un-translate-y);transition:none;position:sticky}}aside[data-astro-cid-ssfzsv2f]:target{--un-translate-x:calc(var(--spacing) * 0);--un-translate-y:calc(var(--spacing) * 0);translate:var(--un-translate-x) var(--un-translate-y)}@property --un-translate-x{syntax:"*";inherits:false;initial-value:0;}@property --un-translate-y{syntax:"*";inherits:false;initial-value:0;}@property --un-translate-z{syntax:"*";inherits:false;initial-value:0;}aside[data-astro-cid-ssfzsv2f] .backdrop[data-astro-cid-ssfzsv2f]{font-size:0;display:none}aside[data-astro-cid-ssfzsv2f]:target .backdrop[data-astro-cid-ssfzsv2f]{background-color:color-mix(in srgb,var(--color-muted) var(--un-bg-opacity),transparent);width:100vw;display:block;top:calc(var(--spacing) * 0);bottom:calc(var(--spacing) * 0);left:100%;position:absolute}@property --un-bg-opacity{syntax:"<percentage>";inherits:false;initial-value:100%;}@media(min-width:64rem){aside[data-astro-cid-ssfzsv2f]:target .backdrop[data-astro-cid-ssfzsv2f]{display:none}}
</style><script type="module" src="/_astro/page._rMDHl_T.js"></script>
<script>!(function(w,p,f,c){if(!window.crossOriginIsolated && !navigator.serviceWorker) return;c=w[p]=Object.assign(w[p]||{},{"lib":"/~partytown/","debug":false});c[f]=(c[f]||[]).concat(["dataLayer.push"])})(window,'partytown','forward');/* Partytown 0.11.2 - MIT QwikDev */
const t={preserveBehavior:!1},e=e=>{if("string"==typeof e)return[e,t];const[n,r=t]=e;return[n,{...t,...r}]},n=Object.freeze((t=>{const e=new Set;let n=[];do{Object.getOwnPropertyNames(n).forEach((t=>{"function"==typeof n[t]&&e.add(t)}))}while((n=Object.getPrototypeOf(n))!==Object.prototype);return Array.from(e)})());!function(t,r,o,i,a,s,c,l,d,p,u=t,f){function h(){f||(f=1,"/"==(c=(s.lib||"/~partytown/")+(s.debug?"debug/":""))[0]&&(d=r.querySelectorAll('script[type="text/partytown"]'),i!=t?i.dispatchEvent(new CustomEvent("pt1",{detail:t})):(l=setTimeout(v,(null==s?void 0:s.fallbackTimeout)||1e4),r.addEventListener("pt0",w),a?y(1):o.serviceWorker?o.serviceWorker.register(c+(s.swPath||"partytown-sw.js"),{scope:c}).then((function(t){t.active?y():t.installing&&t.installing.addEventListener("statechange",(function(t){"activated"==t.target.state&&y()}))}),console.error):v())))}function y(e){p=r.createElement(e?"script":"iframe"),t._pttab=Date.now(),e||(p.style.display="block",p.style.width="0",p.style.height="0",p.style.border="0",p.style.visibility="hidden",p.setAttribute("aria-hidden",!0)),p.src=c+"partytown-"+(e?"atomics.js?v=0.11.2":"sandbox-sw.html?"+t._pttab),r.querySelector(s.sandboxParent||"body").appendChild(p)}function v(n,o){for(w(),i==t&&(s.forward||[]).map((function(n){const[r]=e(n);delete t[r.split(".")[0]]})),n=0;n<d.length;n++)(o=r.createElement("script")).innerHTML=d[n].innerHTML,o.nonce=s.nonce,r.head.appendChild(o);p&&p.parentNode.removeChild(p)}function w(){clearTimeout(l)}s=t.partytown||{},i==t&&(s.forward||[]).map((function(r){const[o,{preserveBehavior:i}]=e(r);u=t,o.split(".").map((function(e,r,o){var a;u=u[o[r]]=r+1<o.length?u[o[r]]||(a=o[r+1],n.includes(a)?[]:{}):(()=>{let e=null;if(i){const{methodOrProperty:n,thisObject:r}=((t,e)=>{let n=t;for(let t=0;t<e.length-1;t+=1)n=n[e[t]];return{thisObject:n,methodOrProperty:e.length>0?n[e[e.length-1]]:void 0}})(t,o);"function"==typeof n&&(e=(...t)=>n.apply(r,...t))}return function(){let n;return e&&(n=e(arguments)),(t._ptf=t._ptf||[]).push(o,arguments),n}})()}))})),"complete"==r.readyState?h():(t.addEventListener("DOMContentLoaded",h),t.addEventListener("load",h))}(window,document,navigator,top,window.crossOriginIsolated);;(e=>{e.addEventListener("astro:before-swap",e=>{let r=document.body.querySelector("iframe[src*='/~partytown/']");if(r)e.newDocument.body.append(r)})})(document);</script></head> <body class="bg-background text-foreground"> <header class="sticky top-0 left-0 right-0 bg-background z-10"> <nav class="flex items-center h-[var(--nav-height)] px-4 shadow shadow-foreground/10 text-muted-foreground"> <a href="/" class="nav-icon sm:hidden"> <svg viewBox="0 0 24 24"> <path d="M12 0l-12 12h4v12h5v-8h6v8h5v-12h4z"></path> </svg> </a> <a class="nav-icon lg:hidden" href="#violentmonkey/sidebar"> <svg viewBox="0 0 24 24"> <path d="M0 4h24v2h-24zm0 8h24v2h-24zm0 8h24v2h-24z"></path> </svg> </a> <a href="/" class="text-lg hidden sm:block">Violentmonkey</a> <span class="flex-1"></span> <div class="overflow-auto min-w-0 flex whitespace-no-wrap"> <a class="block mx-2 border-b-2 border-transparent " href="/get-it/"> Get it </a><a class="block mx-2 border-b-2 border-transparent " href="/guide/creating-a-userscript/"> Guide </a><a class="block mx-2 border-b-2 border-transparent " href="/api/gm/"> API </a><a class="block mx-2 border-b-2 border-transparent " href="/faq/"> FAQ </a><a class="block mx-2 border-b-2 border-transparent " href="/posts/"> Blog </a> </div> </nav> <div class="w-full h-px"> <div class="w-full h-full origin-left bg-progress scale-x-0" data-scroll-indicator></div> </div> <script type="module" src="/_astro/ScrollIndicator.astro_astro_type_script_index_0_lang.CDfrq4y9.js"></script> </header> <div class="relative z-0">  <main class="has-sidebar"> <aside id="violentmonkey/sidebar" data-astro-cid-ssfzsv2f><a href="#" rel="external" class="backdrop" data-astro-cid-ssfzsv2f>
Close
</a><ul class="list-none h-full p-4 overflow-y-auto" data-astro-cid-ssfzsv2f><li data-astro-cid-ssfzsv2f><a href="/api/gm/" class="text-muted-foreground hover:text-primary" data-astro-cid-ssfzsv2f>Privileged APIs</a></li><li data-astro-cid-ssfzsv2f><a href="/api/metadata-block/" class="text-primary" data-astro-cid-ssfzsv2f>Metadata Block</a></li><li data-astro-cid-ssfzsv2f><a href="/api/matching/" class="text-muted-foreground hover:text-primary" data-astro-cid-ssfzsv2f>Matching</a></li></ul></aside> <h1 class="text-4xl grid-col-start-2 mt-0 pt-8">Metadata Block</h1> <div class="toc grid-col-start-3 grid-row-start-2"><ul><li style="--toc-depth:0"><a href="#name">@name</a></li><li style="--toc-depth:0"><a href="#namespace">@namespace</a></li><li style="--toc-depth:0"><a href="#match--exclude-match">@match / @exclude-match</a></li><li style="--toc-depth:0"><a href="#include--exclude">@include / @exclude</a></li><li style="--toc-depth:0"><a href="#version">@version</a></li><li style="--toc-depth:0"><a href="#description">@description</a></li><li style="--toc-depth:0"><a href="#icon">@icon</a></li><li style="--toc-depth:0"><a href="#require">@require</a></li><li style="--toc-depth:0"><a href="#resource">@resource</a></li><li style="--toc-depth:0"><a href="#run-at">@run-at</a></li><li style="--toc-depth:0"><a href="#noframes">@noframes</a></li><li style="--toc-depth:0"><a href="#grant">@grant</a></li><li style="--toc-depth:0"><a href="#inject-into">@inject-into</a></li><li style="--toc-depth:0"><a href="#downloadurl">@downloadURL</a></li><li style="--toc-depth:0"><a href="#supporturl">@supportURL</a></li><li style="--toc-depth:0"><a href="#homepageurl">@homepageURL</a></li><li style="--toc-depth:0"><a href="#unwrap">@unwrap</a></li><li style="--toc-depth:0"><a href="#top-level-await">@top-level-await</a></li></ul><hr class="lg:hidden"></div><script type="module" src="/_astro/ToC.astro_astro_type_script_index_0_lang.Cc0lKERm.js"></script> <section class="grid-col-start-2"> <article class="flex-1 min-w-0">  <p>The metadata must follow the format:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// ==UserScript==</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @key value</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// ==/UserScript==</span></span></code></pre></figure>
<p>Each line of the block must start with <code>//</code>, the first line must be <code>// ==UserScript==</code> and the last line must be <code>// ==/UserScript==</code>.</p>
<p>Make sure to maintain compatibility with various browsers and extensions that can install userscripts:</p>
<ol>
<li>Don’t add extraneous text or spaces at the beginning or ending of the metadata comments.</li>
<li>Use exactly one space after <code>//</code> in every metadata comment.</li>
<li>Put the metadata comment at the very beginning of the file to support engines like ScriptCat.</li>
</ol>
<p>Violentmonkey 2.12.0 and newer ignores spaces around the metadata comments.</p>
<p>Violentmonkey 2.26.1 and newer ignores any extraneous text around the metadata comments, just like Tampermonkey or Firemonkey, but there’ll be an error message about the broken syntax when installing or editing the script.</p>
<p>Some of the keys can be localized for multiple languages, by adding a colon and the locale code to the key, e.g. <code>@name:zh-CN</code>. The locale code is case insensitive.</p>
<p>Labels:</p>
<ul>
<li><span class="label">required</span> The key must be set.</li>
<li><span class="label">multilingual</span> The key can be localized by appending a colon and the locale code, e.g. <code>@name:zh-CN</code>.</li>
<li><span class="label">multiple</span> The key can be set multiple times.</li>
</ul>
<h3 id="name">@name</h3>
<p> <span class="label">required</span><span class="label">multilingual</span> </p>
<p>The name of the script, shown in script list and menus. It must be unique within a <code>@namespace</code>. If a script is being installed, and a script with the same <code>@namespace</code> and <code>@name</code> already exists, it will be replaced by the new one. Creating a script with same <code>@namespace</code> and <code>@name</code> will cause a conflict error.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @name          Violentmonkey Script</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @name:zh-CN    暴力猴脚本</span></span></code></pre></figure>
<h3 id="namespace">@namespace</h3>
<p>The combination of <code>@namespace</code> and <code>@name</code> is the unique identifier for a userscript. <code>@namespace</code> can be any string, for example the homepage of a group of userscripts by the same author. If not provided the <code>@namespace</code> falls back to an empty string (<code>&#39;&#39;</code>).</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @namespace https://violentmonkey.github.io</span></span></code></pre></figure>
<h3 id="match--exclude-match">@match / @exclude-match</h3>
<p> <span class="label">multiple</span> </p>
<p>Define rules to decide whether a script should be executed. It is recommended to use <code>@match</code> instead of <code>@include</code>.</p>
<p>See <a href="../matching/">more about matching</a>.</p>
<h3 id="include--exclude">@include / @exclude</h3>
<p> <span class="label">multiple</span> </p>
<p>The old way to decide whether a script should be executed.</p>
<p>See <a href="../matching/">more about matching</a>.</p>
<h3 id="version">@version</h3>
<p>Version of the script, it can be used to check if a script has new versions. It is composed of several parts, joined by <code>.</code>. Each part must start with numbers, and <em>can</em> be followed by alphabetic characters (although these aren’t used for version comparison).</p>
<p><strong>Note:</strong> If no <code>@version</code> is specified, the script will not be updated automatically.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @version 1.0</span></span>
<span data-line> </span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @version 1.2a.3</span></span></code></pre></figure>
<h3 id="description">@description</h3>
<p> <span class="label">multiple</span> </p>
<p>A brief summary to describe the script.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @description         This script rocks.</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @description:zh-CN   这个脚本很棒！</span></span></code></pre></figure>
<h3 id="icon">@icon</h3>
<p>Specify an icon for the script.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @icon https://my.cdn.com/icon.png</span></span></code></pre></figure>
<h3 id="require">@require</h3>
<p> <span class="label">multiple</span> </p>
<p>Require another script to execute before the current one. The value is the URL to the required script, which may be relative to the URL the script is being installed from.</p>
<p>The required script will be downloaded along with installation and execute before the script.</p>
<p>Local files are not allowed to be required due to security concern. Also it does not make sense since scripts are supposed to work on different devices.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @require https://my.cdn.com/jquery.js</span></span></code></pre></figure>
<h3 id="resource">@resource</h3>
<p> <span class="label">multiple</span> </p>
<p>Some static resources that can be accessed in the script by <code>GM_getResourceText</code> and <code>GM_getResourceURL</code>. The value is composed of two parts, joined with one or more white spaces. The first part is the name of the resource, no white space is allowed in it. The second part is the URL to the resource, which may be relative to the URL the script is being installed from.</p>
<p>The resource will be downloaded along with installation and can be accessed when the script executes.</p>
<p>Examples:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @resource logo https://my.cdn.com/logo.png</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @resource text https://my.cdn.com/some-text.txt</span></span></code></pre></figure>
<h3 id="run-at">@run-at</h3>
<p>Specifies <strong>when</strong> the script will run.</p>
<ul>
<li>
<p><code>document-start</code></p>
<p>Run as early as possible, <code>document.documentElement</code> is present, but may be without either <code>document.head</code> or <code>document.body</code> or both. Other scripts in the page may run earlier, see the note below.</p>
</li>
<li>
<p><code>document-body</code> <em>(since v2.12.10)</em></p>
<p>Run after <code>document.body</code> appears, possibly with some child elements inside, because detection is asynchronous (using a one-time MutationObserver).</p>
</li>
<li>
<p><code>document-end</code> <span class="label">default</span></p>
<p>Run when <code>DOMContentLoaded</code> is fired, synchronously. At this time, the basic HTML of the page is ready and other resources like images might still be on the way.</p>
</li>
<li>
<p><code>document-idle</code></p>
<p>Run after <code>DOMContentLoaded</code> is fired, asynchronously, i.e. after yielding to the previously scheduled callbacks or urgent tasks like rendering. Prefer this mode for scripts that take more than a couple of milliseconds to compile and run (you can see it in devtools performance profiler), so that they don’t delay the moment the page becomes usable.</p>
</li>
</ul>
<p>When using <code>document-start</code> in Violentmonkey ManifestV2 there’s a limited method of ensuring the userscript runs before other scripts in the page:</p>
<ul>
<li>the userscript must use the default <a href="#inject-into"><code>page</code> injection mode</a></li>
<li>the user must enable <code>Synchronous page mode</code> (Chrome/Firefox) or <code>Alternative page mode</code> (Firefox only, enabled by default) in Violentmonkey’s advanced settings;</li>
<li>the user didn’t change the injection mode to <code>content</code> in script’s editor or script’s settings or in Violentmonkey’s settings;</li>
<li>the cookies are not explicitly blocked for the site;</li>
<li>it’s not the incognito mode;</li>
<li>Firefox-only: the site doesn’t block script elements via its CSP;</li>
</ul>
<h3 id="noframes">@noframes</h3>
<p>When present, the script will execute only in top level document, but not in nested frames.</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @noframes</span></span></code></pre></figure>
<h3 id="grant">@grant</h3>
<p> <span class="label">multiple</span> </p>
<p>Specify which special APIs should be granted and can be used when the script executes.</p>
<ul>
<li>
<p>If no <code>@grant</code> is present, the script is sandboxed with minimum API access: <code>GM_info</code>, <code>GM.info</code>, and <code>unsafeWindow</code> necessary to modify globals of the webpage. Note that this behavior was only introduced in Violentmonkey 2.32.0 to improve compatibility and match Tampermonkey, whereas previously <code>@grant none</code> was assumed.</p>
</li>
<li>
<p>In case you don’t need special API or sandboxing</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @grant none</span></span></code></pre></figure>
<p>Sandbox is disabled in this mode, meaning the script can add/modify globals directly without the need to use <code>unsafeWindow</code>.</p>
</li>
<li>
<p>In case any special API is used, it must be explicitly granted</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @grant GM_getValue</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @grant GM_setValue</span></span></code></pre></figure>
<p>…or for the new <code>GM.*</code> API methods <em>(Since VM2.12.10)</em>:</p>
<figure data-rehype-pretty-code-figure><pre style="--shiki-dark:#e1e4e8;--shiki-light:#24292e;--shiki-dark-bg:#24292e;--shiki-light-bg:#fff" tabindex="0" data-language="js" data-theme="github-dark github-light"><code data-language="js" data-theme="github-dark github-light" style="display:grid"><span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @grant GM.getValue</span></span>
<span data-line><span style="--shiki-dark:#6A737D;--shiki-light:#6A737D">// @grant GM.setValue</span></span></code></pre></figure>
</li>
</ul>
<p>In addition to <a href="../gm/">GM API</a> the following privileges may be granted:</p>
<ul>
<li>
<p><code>// @grant window.close</code></p>
<p><em>Since VM2.6.2</em><br/>
Allows closing the tab via <code>window.close()</code></p>
</li>
<li>
<p><code>// @grant window.focus</code></p>
<p><em>Since VM2.12.10</em><br/>
Allows focusing the tab via <code>window.focus()</code> even if the user didn’t interact with it first.</p>
</li>
</ul>
<h3 id="inject-into">@inject-into</h3>
<p><em>Added in Violentmonkey v2.10.0</em></p>
<p>Decide which context the script will be injected into.</p>
<p>If not set in the metadata block, the default value <code>auto</code> will be used.
However, you can change the default value in Violentmonkey settings.</p>
<p>Possible values:</p>
<ul>
<li>
<p><code>page</code></p>
<p>Inject into context of the web page.</p>
<p>In this mode, <code>unsafeWindow</code> refers to the <code>window</code> object,
allowing the script to access JavaScript objects of the web page,
just like normal page scripts can.</p>
</li>
<li>
<p><code>content</code></p>
<p>Inject into context of <a href="https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Content_scripts">content scripts</a>.</p>
<p>In this mode, <code>unsafeWindow</code> refers to the <code>global</code> object in content script.
As a result, the script can access and modify the page’s DOM,
but cannot access JavaScript objects of the web page.</p>
</li>
<li>
<p><code>auto</code> <span class="label">default</span></p>
<p>Try to inject into context of the web page. If blocked by CSP rules, inject as a content script.</p>
</li>
</ul>
<h3 id="downloadurl">@downloadURL</h3>
<p>The URL the script can be downloaded from.  Checked for updates automatically at a regular interval, and also manually on user request.  Automatically added when using “Install from URL.”</p>
<h3 id="supporturl">@supportURL</h3>
<p>If supplied, the question mark icon in the user scripts list will link to this.</p>
<h3 id="homepageurl">@homepageURL</h3>
<p>If supplied, the home icon in the user scripts list will link to this.</p>
<h3 id="unwrap">@unwrap</h3>
<p>Since VM2.13.1.</p>
<p>If supplied, the script will be injected as is into the global scope of the page, i.e. without our standard wrapper like <code>window.VMxxx=function(){...}</code>.</p>
<p>The <a href="#grant"><code>@grant</code></a> key is ignored so the script won’t have access to <code>GM.*</code> or <code>GM_*</code> API.
The <a href="#inject-into"><code>@inject-into</code></a> key is supported as usual.</p>
<p>A typical use case is direct access to global page variables declared as <code>const</code> or <code>let</code>. In a standard userscript you would have to create a <code>script</code> element yourself explicitly by using <code>document.createElement</code> or  <a href="/api/gm/#gm_addelement"><code>GM_addElement</code></a>, then transfer the result via a <code>CustomEvent</code> or <code>unsafeWindow.foo</code>.</p>
<p>Another use case is migration from other extensions that run your JavaScript code as is, without userscript API.</p>
<h3 id="top-level-await">@top-level-await</h3>
<p>Since VM2.19.2.</p>
<p>Enables top-level <code>await</code> in your script. Useful when the rest of your script’s code depends on some external event e.g. when waiting for an element using MutationObserver or fetching data from network.</p>
<ul>
<li>Avoid using it to import dependencies that should always run; prefer using <code>@require</code> and <code>@resource</code>.</li>
<li>Can’t be used with <code>@unwrap</code>.</li>
</ul>  </article> </section> <section class="grid-col-start-2"> <hr>  </section> </main>  </div> <footer class="flex p-6 pb-16 border-t border-gray-400 lg:pb-6"> <div>Violentmonkey © All rights reserved.</div> <a class="link mx-2" href="/privacy/"> Privacy Policy </a> </footer> <div data-discord data-astro-cid-mahorubk> <div class="discord-panel" data-astro-cid-mahorubk> <div class="p-2 cursor-pointer" data-discord-toggle data-astro-cid-mahorubk> <svg viewBox="0 0 12 12" class="w-4 h-4" data-astro-cid-mahorubk> <path d="M0 1L11 12L12 11L1 0zM11 0L0 11L1 12L12 1z" stroke="none" fill="currentColor" data-astro-cid-mahorubk></path> </svg> </div> <iframe class="w-full h-full bg-muted rounded" data-src="https://discord.com/widget?id=995346102003965952&theme=dark" sandbox="allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts" data-astro-cid-mahorubk></iframe> </div> <button class="discord-button button button-primary" data-discord-toggle data-astro-cid-mahorubk>
Open Chat
</button> </div> <script type="module">const e=document.querySelector("[data-discord]");e&&e.addEventListener("click",r=>{if(!r.target.closest("[data-discord-toggle]"))return;e.classList.toggle("discord-open");const t=e.querySelector("iframe[data-src]");t&&!t.src&&t.dataset.src&&(t.src=t.dataset.src)});</script>  <script type="module">const t=e=>{document.body.setAttribute("data-theme",e?"dark":"")},a=window.matchMedia("(prefers-color-scheme: dark)");t(a.matches);a.addEventListener("change",e=>{t(e.matches)});</script> </body> </html>